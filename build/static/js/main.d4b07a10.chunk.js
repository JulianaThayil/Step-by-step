(this["webpackJsonpStep-by-step"]=this["webpackJsonpStep-by-step"]||[]).push([[0],{109:function(e,t,a){e.exports={Link:"Home_Link__S4kt5",bg:"Home_bg__21DT5"}},112:function(e,t,a){e.exports={h1:"Footer_h1__2dX4I",h3:"Footer_h3__3VfSU",footInfo:"Footer_footInfo__2dvTd",footOverall:"Footer_footOverall__26UUO"}},132:function(e,t,a){e.exports={logo:"Logo_logo__2euSY",h3:"Logo_h3__2fwqc"}},176:function(e,t,a){},178:function(e,t,a){},187:function(e,t){},206:function(e,t,a){e.exports=a(293)},293:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),o=a(10),i=a(9),s=a(11),u=a(12),m=a(13),p=a(16),d=a(58),h=a(173),E=a(14),b=a(65),f=a(175),g=a(24),v=a(23),y={authenticated:!1,loading:!1,credentials:{},likes:[],notifications:[]},O={recipes:[],recipe:{},loading:!1},j={loading:!1,errors:null},I=[f.a],C=Object(b.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return Object(v.a)({},e,{authenticated:!0});case"SET_UNAUTHENTICATED":return y;case"SET_USER":return Object(v.a)({authenticated:!0,loading:!1},t.payload);case"LOADING_USER":return Object(v.a)({},e,{loading:!0});case"LIKE_RECIPE":return Object(v.a)({},e,{likes:[].concat(Object(g.a)(e.likes),[{userHandle:e.credentials.handle,recipeId:t.payload.recipeId}])});case"UNLIKE_RECIPE":return Object(v.a)({},e,{likes:e.likes.filter((function(e){return e.recipeId!==t.payload.recipeId}))});case"MARK_NOTIFICATIONS_READ":return e.notifications.forEach((function(e){return e.read=!0})),Object(v.a)({},e);default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_DATA":return Object(v.a)({},e,{loading:!0});case"SET_RECIPES":return Object(v.a)({},e,{recipes:t.payload,loading:!1});case"SET_RECIPE":return Object(v.a)({},e,{recipe:t.payload});case"LIKE_RECIPE":case"UNLIKE_RECIPE":var a=e.recipes.findIndex((function(e){return e.recipeId===t.payload.recipeId}));return e.recipes[a]=t.payload,e.recipe.recipeId===t.payload.recipeId&&(e.recipe=t.payload),Object(v.a)({},e);case"DELETE_RECIPE":return a=e.recipes.findIndex((function(e){return e.recipeId===t.payload})),e.recipes.splice(a,1),Object(v.a)({},e);case"POST_RECIPE":return Object(v.a)({},e,{recipes:[t.payload].concat(Object(g.a)(e.recipes))});case"SUBMIT_COMMENT":return Object(v.a)({},e,{recipe:Object(v.a)({},e.recipe,{comments:[t.payload].concat(Object(g.a)(e.recipe.comments))})});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERRORS":return Object(v.a)({},e,{loading:!1,errors:t.payload});case"CLEAR_ERRORS":return Object(v.a)({},e,{loading:!1,errors:null});case"LOADING_UI":return Object(v.a)({},e,{loading:!0});case"STOP_LOADING_UI":return Object(v.a)({},e,{loading:!1});default:return e}}}),k=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):b.d)(b.a.apply(void 0,I)),w=Object(b.e)(C,{},k),S=a(19),_=a.n(S),R=function(){return function(e){e({type:"LOADING_USER"}),_.a.get("/user").then((function(t){e({type:"SET_USER",payload:t.data})})).catch((function(e){return console.log(e)}))}},N=function(){return function(e){localStorage.removeItem("FBIdToken"),delete _.a.defaults.headers.common.Authorization,e({type:"SET_UNAUTHENTICATED"})}},U=function(e){var t="Bearer ".concat(e);localStorage.setItem("FBIdToken",t),_.a.defaults.headers.common.Authorization=t},A=a(7),T=a(132),P=a.n(T),D=function(){return r.a.createElement("div",{className:P.a.logo},r.a.createElement("img",{width:"5%",height:"5%",src:"/logo.png"}),r.a.createElement("b",null," ",r.a.createElement("h4",{className:P.a.h3},"Step-by-Step ")))},x=a(176),L=a.n(x),F=a(295),M=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a,e.props.history)},e.handleChange=function(t){e.setState(Object(A.a)({},t.target.name,t.target.value))},e.state={email:"",password:"",errors:{}},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props.UI.loading,t=this.state.errors;return r.a.createElement("div",null,r.a.createElement(D,null," "),r.a.createElement("div",{class:"body"},r.a.createElement("img",{width:"46%",src:"./assets/5.jpg"}),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},r.a.createElement("div",{class:"segment"},r.a.createElement("h1",null,"Sign in")),r.a.createElement("label",null,r.a.createElement("input",{name:"email",class:"ip",type:"email",placeholder:"Email",value:this.state.email,onChange:this.handleChange,error:!!t.email}),r.a.createElement("div",{class:"error"}," ")),r.a.createElement("label",null,r.a.createElement("input",{name:"password",class:"ip",type:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange,error:!!t.password}),r.a.createElement("div",{class:"error"}," ")),t.general&&r.a.createElement("div",{class:"error"},t.general),r.a.createElement("button",{disabled:e,class:"red but",type:"submit"},r.a.createElement("i",{class:"icon ion-md-lock"})," Log in",e&&r.a.createElement("div",{className:L.a.root},r.a.createElement(F.a,null))),"Forgot passwrod? ",r.a.createElement("a",{href:"#"},"Click Here "),r.a.createElement("br",null),r.a.createElement("center",null,"- or- "),r.a.createElement("br",null),r.a.createElement(p.b,{to:"/signup"},r.a.createElement("button",{class:"red but",type:"button"},r.a.createElement("i",{class:"icon ion-md-lock"})," Register",r.a.createElement("br",null))))))}}]),t}(n.Component),B={loginUser:function(e,t){return function(a){a({type:"LOADING_UI"}),_.a.post("/login",e).then((function(e){U(e.data.token),a(R()),a({type:"CLEAR_ERRORS"}),t.push("/")})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}},G=Object(E.b)((function(e){return{user:e.user,UI:e.UI}}),B)(M),q=a(178),z=a.n(q),H=a(335),W=(Object(H.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a={email:e.state.email,password:e.state.password,confirmPassword:e.state.confirmPassword,handle:e.state.handle};e.props.signupUser(a,e.props.history)},e.handleChange=function(t){e.setState(Object(A.a)({},t.target.name,t.target.value))},e.state={email:"",password:"",confirmPassword:"",handle:"",errors:{}},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props.UI.loading,t=this.state.errors;return r.a.createElement("div",null,r.a.createElement(D,null," "),r.a.createElement("div",{class:"body"},r.a.createElement("img",{width:"46%",src:"./assets/5.jpg"}),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("div",{class:"segment"},r.a.createElement("h1",null,"Sign up")),r.a.createElement("label",null,r.a.createElement("input",{name:"email",class:"ip",type:"email",placeholder:"Email Address",value:this.state.email,onChange:this.handleChange,error:!!t.email}),r.a.createElement("div",{class:"error"}," ",t.email)),r.a.createElement("label",null,r.a.createElement("input",{name:"password",class:"ip",type:"password",placeholder:"Create password",value:this.state.password,onChange:this.handleChange,error:!!t.password}),r.a.createElement("div",{class:"error"}," ",t.password)),r.a.createElement("label",null,r.a.createElement("input",{name:"confirmPassword",class:"ip",type:"password",placeholder:"Re-enter password",value:this.state.confirmPassword,onChange:this.handleChange,error:!!t.confirmPassword}),r.a.createElement("div",{class:"error"}," ",t.confirmPassword)),r.a.createElement("label",null,r.a.createElement("input",{name:"handle",class:"ip",type:"text",placeholder:"username",value:this.state.handle,onChange:this.handleChange,error:!!t.handle}),r.a.createElement("div",{class:"error"}," ",t.handle)),r.a.createElement("button",{disabled:e,class:"red but",type:"submit"},r.a.createElement("i",{class:"icon ion-md-lock"}),"Register",e&&r.a.createElement("div",{className:z.a.root},r.a.createElement(F.a,null))),r.a.createElement("br",null),"Already a member ? ",r.a.createElement(p.b,{to:"/"}," login "),r.a.createElement("br",null)))))}}]),t}(n.Component)),K=Object(E.b)((function(e){return{user:e.user,UI:e.UI}}),{signupUser:function(e,t){return function(a){a({type:"LOADING_UI"}),_.a.post("/signup",e).then((function(e){U(e.data.token),a(R()),a({type:"CLEAR_ERRORS"}),t.push("/user")})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}})(W),Y=a(336),V=a(337),X=a(76),J=a(370),Z=a(22),Q=a(100),$=a.n(Q),ee=a(338),te=Object(H.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(A.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(A.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Z.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Z.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(A.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function ae(){var e=te();return r.a.createElement("div",{className:e.root},r.a.createElement(Y.a,{position:"static",color:"secondary"},r.a.createElement(V.a,null,r.a.createElement(X.a,{className:e.title,variant:"h6",noWrap:!0},"Step-by-Step"),r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement($.a,null)),r.a.createElement(J.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement(ee.a,{color:"inherit"}," ",r.a.createElement(p.b,{to:"/login"},"Login ")),r.a.createElement(ee.a,{color:"inherit"},"Register"))))}var ne=a(38),re=a(342),ce=a(188),le=a(106),oe=a.n(le),ie=a(368),se=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(){a.props.logoutUser()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.user.credentials.handle;return r.a.createElement("div",null,r.a.createElement(ie.a,null,r.a.createElement(p.c,{to:"/"}," Feed ")," "),r.a.createElement(ie.a,null," ",r.a.createElement(p.c,{to:"/users/".concat(e)},"Profile ")," "),r.a.createElement(ie.a,{onClick:this.handleLogout}," ",r.a.createElement(p.c,{to:"/login"}," Logout ")," "))}}]),t}(n.Component),ue={logoutUser:N},me=Object(E.b)((function(e){return{user:e.user}}),ue)(se),pe=a(35),de=a.n(pe),he=a(72),Ee=a.n(he),be=a(369),fe=a(339),ge=a(111),ve=a.n(ge),ye=a(103),Oe=a.n(ye),je=a(63),Ie=a.n(je),Ce=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.handleOpen=function(e){a.setState({anchorEl:e.target})},a.handleClose=function(){a.setState({anchorEl:null})},a.onMenuOpened=function(){var e=a.props.notifications.filter((function(e){return!e.read})).map((function(e){return e.notificationId}));a.props.markNotificationsRead(e)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.notifications,c=this.state.anchorEl;de.a.extend(Ee.a),e=a&&a.length>0&&a.filter((function(e){return!1===e.read})).length>0?r.a.createElement(fe.a,{badgeContent:a.filter((function(e){return!1===e.read})).length,color:"secondary"},r.a.createElement(ve.a,null)):r.a.createElement(ve.a,null);var l=a&&a.length>0?a.map((function(e){var a="like"===e.type?"liked":"commented on",n=de()(e.createdAt).fromNow(),c=e.read?"primary":"secondary",l="like"===e.type?r.a.createElement(Oe.a,{color:c,style:{marginRight:10}}):r.a.createElement(Ie.a,{color:c,style:{marginRight:10}});return r.a.createElement(ie.a,{key:e.createdAt,onClick:t.handleClose},l,r.a.createElement(X.a,{component:p.b,color:"default",variant:"body1",to:"/view/".concat(e.recipeId)},e.sender," ",a," your recipe ",n))})):r.a.createElement(ie.a,{onClick:this.handleClose},"You have no notifications yet");return r.a.createElement(n.Fragment,null,r.a.createElement(be.a,{placement:"top",title:"Notifications"},r.a.createElement(re.a,{"aria-owns":c?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleOpen},e)),r.a.createElement(ce.a,{anchorEl:c,open:Boolean(c),onClose:this.handleClose,onEntered:this.onMenuOpened},l))}}]),t}(n.Component),ke=Object(E.b)((function(e){return{notifications:e.user.notifications}}),{markNotificationsRead:function(e){return function(t){_.a.post("/notifications",e).then((function(e){t({type:"MARK_NOTIFICATIONS_READ"})})).catch((function(e){return console.log(e)}))}}})(Ce),we=a(343),Se=a(180),_e=a.n(Se),Re=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.b,{to:"/addrecipe"},r.a.createElement(be.a,{placement:"top",title:"Add Recipe"},r.a.createElement(we.a,{color:"secondary","aria-label":"add",size:"small"},r.a.createElement(_e.a,null)))))}}]),t}(n.Component),Ne=Object(H.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(A.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(A.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Z.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Z.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(A.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}}));function Ue(){var e=Ne(),t=r.a.useState(null),a=Object(ne.a)(t,2),n=a[0],c=a[1],l=Boolean(n),o="primary-search-account-menu",i=r.a.createElement(ce.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:o,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:function(){c(null)}},r.a.createElement(me,null,"  "));return r.a.createElement("div",{className:e.grow},r.a.createElement(Y.a,{position:"static",color:"secondary"},r.a.createElement(V.a,null,r.a.createElement(X.a,{className:e.title,variant:"h6",noWrap:!0},"Step-by-Step"),r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement($.a,null)),r.a.createElement(J.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement("div",{className:e.grow}),r.a.createElement(Re,null),r.a.createElement(ke,null," "),r.a.createElement(re.a,{edge:"end","aria-label":"account","aria-controls":o,"aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},color:"inherit"},r.a.createElement(oe.a,null)))),i)}var Ae=a(2),Te=a(363),Pe=a(356),De=a(371),xe=a(138),Le=a(344),Fe=a(107),Me=a.n(Fe),Be=a(46),Ge=a.n(Be),qe=a(181),ze=a.n(qe),He=function(e){var t=e.children,a=e.onClick,n=e.tip,c=e.btnClassName,l=e.tipClassName;return r.a.createElement(be.a,{title:n,className:l,placement:"bottom-end"},r.a.createElement(re.a,{onClick:a,className:c},t))},We=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleImageChange=function(e){var t=e.target.files[0],n=new FormData;n.append("image",t,t.name),a.props.uploadImage(n)},a.handleEditPicture=function(){document.getElementById("imageInput").click()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.user.credentials,t=e.handle,a=e.imageUrl,c=e.bio,l=e.location;return r.a.createElement(xe.a,{style:{backgroundImage:"url(./assets/cover.jpg)"},className:Ge.a.mainFeaturedPost},r.a.createElement("img",{style:{display:"none"}}),r.a.createElement("div",{className:Ge.a.overlay}),r.a.createElement(Le.a,{container:!0},r.a.createElement(Le.a,{item:!0,md:6},r.a.createElement("div",{className:Ge.a.mainFeaturedPostContent},r.a.createElement("img",{className:Ge.a.avatar,src:a}),r.a.createElement("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:this.handleImageChange}),r.a.createElement(He,{tip:"Edit profile picture",onClick:this.handleEditPicture,btnClassName:"button"},r.a.createElement(ze.a,{color:"primary"})),r.a.createElement("h3",null,t," "),c&&r.a.createElement(X.a,{variant:"body2"},c),l&&r.a.createElement(n.Fragment,null,r.a.createElement(Me.a,{color:"primary"})," ",r.a.createElement("span",null,l))))))}}]),t}(n.Component),Ke={uploadImage:function(e){return function(t){t({type:"LOADING_USER"}),_.a.post("/user/image",e).then((function(){t(R())})).catch((function(e){return console.log(e)}))}}},Ye=Object(E.b)((function(e){return{user:e.user}}),Ke)(We),Ve=a(345),Xe=a(346),Je=a(348),Ze=a(347),Qe=Object(H.a)((function(e){return{card:{minWidth:345,margin:e.spacing(2)},media:{height:190},div:{display:"grid",gridTemplate:"repeat(3, 1fr) / repeat(3, 1fr)",gap:"2% 1%"}}}));function $e(e){var t=Qe(),a=Array.from({length:6}).map((function(e,a){return r.a.createElement(Ve.a,{className:t.card,key:a},r.a.createElement(Xe.a,{avatar:r.a.createElement(Ze.a,{animation:"wave",variant:"circle",width:40,height:40}),title:r.a.createElement(Ze.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),subheader:r.a.createElement(Ze.a,{animation:"wave",height:10,width:"40%"})}),r.a.createElement(Ze.a,{animation:"wave",variant:"rect",className:t.media}),r.a.createElement(Je.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{animation:"wave",height:10,style:{marginBottom:6}}),r.a.createElement(Ze.a,{animation:"wave",height:10,width:"80%"}))))}));return r.a.createElement("div",{className:t.div},a)}var et=a(75),tt=a.n(et),at=a(135),nt=a.n(at),rt=function(e){return function(t){t({type:"LOADING_DATA"}),_.a.get("/user/".concat(e)).then((function(e){t({type:"SET_RECIPES",payload:e.data.recipes})})).catch((function(){t({type:"SET_RECIPES",payload:null})}))}},ct=function(){return function(e){e({type:"CLEAR_ERRORS"})}},lt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).likedRecipe=function(){return!(!a.props.user.likes||!a.props.user.likes.find((function(e){return e.recipeId===a.props.recipeId})))},a.likeRecipe=function(){a.props.likeRecipe(a.props.recipeId)},a.unlikeRecipe=function(){a.props.unlikeRecipe(a.props.recipeId)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.user.authenticated?this.likedRecipe()?r.a.createElement(He,{tip:"Undo like",onClick:this.unlikeRecipe},r.a.createElement(Oe.a,{color:"secondary"})):r.a.createElement(He,{tip:"Like",onClick:this.likeRecipe},r.a.createElement(nt.a,{color:"secondary"})):r.a.createElement(p.b,{to:"/login"},r.a.createElement(He,{tip:"Like"},r.a.createElement(nt.a,{color:"secondary"})))}}]),t}(n.Component),ot={likeRecipe:function(e){return function(t){_.a.get("/recipe/".concat(e,"/like")).then((function(e){t({type:"LIKE_RECIPE",payload:e.data})})).catch((function(e){return console.log(e)}))}},unlikeRecipe:function(e){return function(t){_.a.get("/recipe/".concat(e,"/unlike")).then((function(e){t({type:"UNLIKE_RECIPE",payload:e.data})})).catch((function(e){return console.log(e)}))}}},it=Object(E.b)((function(e){return{user:e.user}}),ot)(lt),st=a(79),ut=a.n(st),mt=a(366),pt=a(349),dt=a(350),ht=a(182),Et=a.n(ht),bt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.deleteRecipe=function(){a.props.deleteRecipe(a.props.recipeId),a.setState({open:!1})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(n.Fragment,null,r.a.createElement(He,{tip:"Delete Recipe",onClick:this.handleOpen,btnClassName:e.deleteButton},r.a.createElement(Et.a,{color:"secondary"})),r.a.createElement(mt.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm"},r.a.createElement(pt.a,null,"Are you sure you want to delete this recipe ?"),r.a.createElement(dt.a,null,r.a.createElement(ee.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(ee.a,{onClick:this.deleteRecipe,color:"secondary"},"Delete"))))}}]),t}(n.Component),ft=Object(E.b)(null,{deleteRecipe:function(e){return function(t){_.a.delete("/recipe/".concat(e)).then((function(){t({type:"DELETE_RECIPE",payload:e})})).catch((function(e){return console.log(e)}))}}})(ut()({deleteButton:{position:"relative",left:"10%",top:"1%"}})(bt)),gt=a(352),vt=a(353),yt=a(108),Ot=a.n(yt),jt=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){de.a.extend(Ee.a);var e=this.props,t=e.recipe,a=t.title,c=t.body,l=t.pictureUrl,o=t.createdAt,i=t.userHandle,s=t.recipeId,u=t.likeCount,m=t.commentCount,d=e.user,h=d.authenticated,E=d.credentials.handle,b=h&&i===E?r.a.createElement(ft,{recipeId:s}):null;return r.a.createElement(Ve.a,{className:tt.a.root},r.a.createElement(Xe.a,{title:a,subheader:de()(o).fromNow()}),r.a.createElement(gt.a,{className:tt.a.media,component:p.b,to:"/users/".concat(i,"/").concat(s),image:l}),r.a.createElement(Je.a,null,r.a.createElement(X.a,{variant:"body2",color:"textSecondary",component:"p"},c)),r.a.createElement(vt.a,{disableSpacing:!0},r.a.createElement(it,{recipeId:s}),r.a.createElement("span",null,u," "),r.a.createElement(He,{tip:"comments"},r.a.createElement(Ie.a,{color:"primary"})),r.a.createElement("span",null,m),r.a.createElement(re.a,{"aria-label":"share"},r.a.createElement(Ot.a,null)),r.a.createElement(n.Fragment,null,b)))}}]),t}(n.Component),It=Object(E.b)((function(e){return{user:e.user}}))(jt),Ct=a(109),kt=a.n(Ct),wt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={profile:null,recipeIdParam:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.handle,a=this.props.recipeId;a&&this.setState({recipeIdParam:a}),this.props.getUserData(t),_.a.get("/user/".concat(t)).then((function(t){e.setState({profile:t.data.user})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.props.data,t=e.recipes,a=e.loading,n=this.state.recipeIdParam,c=a?r.a.createElement($e,null):null===t?r.a.createElement("p",null,"No recipes yet"):n?t.map((function(e){if(e.recipeId!==n)return r.a.createElement(It,{key:e.recipeId,recipe:e})})):t.map((function(e){return r.a.createElement(It,{key:e.recipeId,recipe:e})}));return r.a.createElement("div",{className:kt.a.bg},c)}}]),t}(n.Component),St=Object(E.b)((function(e){return{data:e.data}}),{getUserData:rt})(wt),_t=a(59),Rt=a.n(_t),Nt=a(362),Ut=a(354),At=a(183),Tt=a.n(At),Pt=a(364),Dt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={bio:"",website:"",location:""},a.mapUserDetailsToState=function(e){a.setState({bio:e.bio?e.bio:"",website:e.website?e.website:"",location:e.location?e.location:""})},a.handleChange=function(e){a.setState(Object(A.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e={bio:a.state.bio,website:a.state.website,location:a.state.location};return a.props.editUserDetails(e),r.a.createElement(Pt.a,{severity:"success"},"This is a success message!")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.credentials;this.mapUserDetailsToState(e)}},{key:"render",value:function(){return r.a.createElement("form",{className:Rt.a.root,noValidate:!0,autoComplete:"off"},r.a.createElement("div",{className:Rt.a.main},r.a.createElement(Nt.a,{name:"name",id:"input-with-icon-textfield",label:"Name",InputProps:{startAdornment:r.a.createElement(Ut.a,{position:"start"},r.a.createElement(oe.a,null))}}),r.a.createElement("br",null),r.a.createElement(Nt.a,{id:"standard-multiline-static",label:"Bio",multiline:!0,rows:"4",name:"bio",placeholder:"A short bio about yourself",value:this.state.bio,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(Nt.a,{id:"standard-required",label:"Website",name:"website",value:this.state.website,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(Nt.a,{id:"standard-required",label:"Location",name:"location",value:this.state.location,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ee.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Tt.a,null),onClick:this.handleSubmit},"Save")))}}]),t}(n.Component),xt=Object(E.b)((function(e){return{credentials:e.user.credentials}}),{editUserDetails:function(e){return function(t){t({type:"LOADING_USER"}),_.a.post("/user",e).then((function(){t(R())})).catch((function(e){return console.log(e)}))}}})(Dt),Lt=a(110),Ft=a.n(Lt);a(294);Ft.a.initializeApp({apiKey:"AIzaSyDZDYNoTcSesSR6a1Vyf25P_oTzZKaTO90",authDomain:"step-by-step-96e75.firebaseapp.com",databaseURL:"https://step-by-step-96e75.firebaseio.com",projectId:"step-by-step-96e75",storageBucket:"step-by-step-96e75.appspot.com",messagingSenderId:"593075018975"});var Mt=Ft.a.storage(),Bt=a(355),Gt=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handlePicture=function(t){if(t.target.files[0]){var a=t.target.files[0];e.setState((function(){return{image:a}}))}},e.handleChange=function(t){e.setState(Object(A.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a=e.state.image,n=Mt.ref("recipes/".concat(a.name)).put(a);console.log(a.name),n.on("state_changed",(function(t){var a=Math.round(t.bytesTransferred/t.totalBytes*100);e.setState({progress:a})}),(function(e){console.log(e)}),(function(){Mt.ref("recipes").child(a.name).getDownloadURL().then((function(t){console.log(t),t+="?alt=media",e.setState({url:t})}))}));var r={title:e.state.title,cookingTime:e.state.cookingTime,serves:e.state.serves,body:e.state.body,ingredients:e.state.ingredients,intructions:e.state.intructions,pictureUrl:e.state.url};e.props.postRecipe(r)},e.state={title:"",cookingTime:"",serves:"",body:"",ingredients:"",intructions:"",image:null,url:"",progress:0,errors:{}},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){this.state.errors;var e=this.props.UI.loading;return r.a.createElement("div",{style:{backgroundImage:"url(https://i.pinimg.com/564x/dd/c9/68/ddc96843d58dd6928da23220bb94507f.jpg)"}},r.a.createElement("form",{className:Rt.a.root,autoComplete:"off",onSubmit:this.handleSubmit},r.a.createElement("div",{className:Rt.a.main},r.a.createElement(Nt.a,{name:"title",required:!0,label:"Title",variant:"filled",value:this.state.title,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(Nt.a,{required:!0,name:"cookingTime",size:"small",variant:"filled",value:this.state.cookingTime,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(Nt.a,{required:!0,name:"serves",size:"small",label:"Serves",type:"number",InputLabelProps:{shrink:!0},variant:"filled",value:this.state.serves,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(Nt.a,{required:!0,name:"body",rows:"3",value:this.state.body,onChange:this.handleChange,variant:"filled"}),r.a.createElement("br",null),r.a.createElement(Nt.a,{required:!0,name:"ingredients",label:"Ingredients",placeholder:"Add each ingredient on a new line",rows:"4",multiline:!0,value:this.state.ingredients,onChange:this.handleChange,variant:"filled"}),r.a.createElement("br",null),r.a.createElement(Nt.a,{required:!0,name:"intructions",label:"Instructions",placeholder:"Add each instruction on a new line",rows:"4",multiline:!0,value:this.state.intructions,onChange:this.handleChange,variant:"filled"}),r.a.createElement("br",null),r.a.createElement("input",{required:!0,accept:"image/*",className:Rt.a.ip,id:"imageInput",onChange:this.handlePicture,type:"file"}),r.a.createElement("br",null),r.a.createElement(ee.a,{type:"submit",disabled:e,variant:"contained",color:"primary"},"Post",e&&r.a.createElement(Bt.a,{size:30,className:Rt.a.progressSpinner})))))}}]),t}(n.Component),qt=Object(E.b)((function(e){return{UI:e.UI}}),{postRecipe:function(e){return function(t){t({type:"LOADING_UI"}),_.a.post("/recipe",e).then((function(e){t({type:"POST_RECIPE",payload:e.data}),t(ct())})).catch((function(e){t({type:"SET_ERRORS",payload:e.response.data})}))}},clearErrors:ct})(Gt);function zt(e){var t=e.children,a=e.value,n=e.index,c=Object(Ae.a)(e,["children","value","index"]);return r.a.createElement(X.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"vertical-tabpanel-".concat(n),"aria-labelledby":"vertical-tab-".concat(n)},c),a===n&&r.a.createElement(De.a,{p:3},t))}function Ht(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}var Wt=Object(H.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",height:300,float:"left"},tabs:{borderRight:"1px solid ".concat(e.palette.divider)}}}));function Kt(e){var t=Wt(),a=r.a.useState(0),n=Object(ne.a)(a,2),c=n[0],l=n[1];return r.a.createElement("div",null,r.a.createElement(Ye,null," "),r.a.createElement("br",null),r.a.createElement("div",{className:t.root},r.a.createElement(Te.a,{orientation:"vertical",variant:"scrollable",value:c,onChange:function(e,t){l(t)},"aria-label":"Vertical tabs example",className:t.tabs},r.a.createElement(Pe.a,Object.assign({label:"My Recipes"},Ht(0))),r.a.createElement(Pe.a,Object.assign({label:"Edit Profile"},Ht(1))),r.a.createElement(Pe.a,Object.assign({label:"Add a new Recipe"},Ht(2))),r.a.createElement(Pe.a,Object.assign({label:"Account"},Ht(3))),r.a.createElement(Pe.a,Object.assign({label:"Settings"},Ht(4)))),r.a.createElement(zt,{value:c,index:0},r.a.createElement(St,null)),r.a.createElement(zt,{value:c,index:1},r.a.createElement(xt,null," ")),r.a.createElement(zt,{value:c,index:2},r.a.createElement(qt,null," ")),r.a.createElement(zt,{value:c,index:3},"Account"),r.a.createElement(zt,{value:c,index:4},"Settings")))}var Yt=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={profile:{}},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.handle;this.props.getUserData(t),_.a.get("/user/".concat(t)).then((function(t){e.setState({profile:t.data.user})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.profile;return r.a.createElement(n.Fragment,null,r.a.createElement(xe.a,{style:{backgroundImage:"url(./assets/cover.jpg)"},className:Ge.a.mainFeaturedPost},r.a.createElement("img",{style:{display:"none"}}),r.a.createElement("div",{className:Ge.a.overlay}),r.a.createElement(Le.a,{container:!0},r.a.createElement(Le.a,{item:!0,md:6},r.a.createElement("div",{className:Ge.a.mainFeaturedPostContent},r.a.createElement("img",{className:Ge.a.avatar,src:e.imageUrl}),r.a.createElement("h3",null,e.handle," "),e.bio&&r.a.createElement(X.a,{variant:"body2"},e.bio),e.location&&r.a.createElement(n.Fragment,null,r.a.createElement(Me.a,{color:"primary"})," ",r.a.createElement("span",null,e.location)))))),r.a.createElement("br",null),r.a.createElement(St,null," "))}}]),t}(n.Component),Vt=Object(E.b)((function(e){return{user:e.user,data:e.data}}),{getUserData:rt})(Yt),Xt=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={userHandle:"",isnull:!0},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.handle;this.setState({userHandle:e,isnull:!1})}},{key:"render",value:function(){var e=this.props,t=e.user,a=t.authenticated,n=t.credentials.handle,c=e.UI.loading,l=a?r.a.createElement(Ue,null," "):r.a.createElement(ae,null," "),o=c?r.a.createElement("p",null," loading.... "):this.state.isnull||this.state.userHandle!==n?r.a.createElement(Vt,{handle:this.props.match.params.handle}," "):r.a.createElement(Kt,{handle:"".concat(n)}," ");return r.a.createElement("div",null,l,o)}}]),t}(n.Component),Jt=Object(E.b)((function(e){return{user:e.user,UI:e.UI}}))(Xt),Zt=a(28),Qt=a(357),$t=a(136),ea=a.n($t),ta=a(137),aa=a.n(ta),na=a(184),ra=a.n(na),ca=a(185),la=Object(ca.autoPlay)(ra.a),oa=[{label:"San Francisco \u2013 Oakland Bay Bridge, United States",imgPath:"https://images.unsplash.com/photo-1537944434965-cf4679d1a598?auto=format&fit=crop&w=400&h=250&q=60"},{label:"Bird",imgPath:"https://images.unsplash.com/photo-1538032746644-0212e812a9e7?auto=format&fit=crop&w=400&h=250&q=60"},{label:"Bali, Indonesia",imgPath:"https://images.unsplash.com/photo-1537996194471-e657df975ab4?auto=format&fit=crop&w=400&h=250&q=80"},{label:"NeONBRAND Digital Marketing, Las Vegas, United States",imgPath:"https://images.unsplash.com/photo-1518732714860-b62714ce0c59?auto=format&fit=crop&w=400&h=250&q=60"},{label:"Go\u010d, Serbia",imgPath:"https://images.unsplash.com/photo-1512341689857-198e7e2f3ca8?auto=format&fit=crop&w=400&h=250&q=60"}],ia=Object(H.a)((function(e){return{root:{minWidth:200,marginLeft:"15%",marginRight:"15%",flexGrow:1},header:{display:"flex",alignItems:"center",height:50,paddingLeft:e.spacing(4),backgroundColor:e.palette.background.default},img:{minWidth:200,height:330,display:"block",overflow:"hidden",width:"100%"}}}));var sa=function(){var e=ia(),t=Object(Zt.a)(),a=r.a.useState(0),n=Object(ne.a)(a,2),c=n[0],l=n[1],o=oa.length;return r.a.createElement("div",{className:e.root},r.a.createElement(xe.a,{square:!0,elevation:0,className:e.header},r.a.createElement(X.a,null,oa[c].label)),r.a.createElement(la,{axis:"rtl"===t.direction?"x-reverse":"x",index:c,onChangeIndex:function(e){l(e)},enableMouseEvents:!0},oa.map((function(t,a){return r.a.createElement("div",{key:t.label},Math.abs(c-a)<=2?r.a.createElement("img",{className:e.img,src:t.imgPath,alt:t.label}):null)}))),r.a.createElement(Qt.a,{steps:o,position:"static",variant:"text",activeStep:c,nextButton:r.a.createElement(ee.a,{size:"small",onClick:function(){l((function(e){return e+1}))},disabled:c===o-1},"Next","rtl"===t.direction?r.a.createElement(ea.a,null):r.a.createElement(aa.a,null)),backButton:r.a.createElement(ee.a,{size:"small",onClick:function(){l((function(e){return e-1}))},disabled:0===c},"rtl"===t.direction?r.a.createElement(aa.a,null):r.a.createElement(ea.a,null),"Back")}))},ua=a(367),ma=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){de.a.extend(Ee.a);var e=this.props,t=e.recipe,a=t.title,c=t.body,l=t.pictureUrl,o=t.createdAt,i=t.userImage,s=t.userHandle,u=t.recipeId,m=t.likeCount,d=t.commentCount,h=e.user,E=h.authenticated,b=h.credentials.handle,f=E&&s===b?r.a.createElement(ft,{recipeId:u}):null;return r.a.createElement(Ve.a,{className:tt.a.root},r.a.createElement(Xe.a,{avatar:r.a.createElement(ua.a,{"aria-label":"recipe"},r.a.createElement("img",{src:i,style:{objectFit:"cover"}})),title:a,subheader:de()(o).fromNow()}),r.a.createElement(gt.a,{className:tt.a.media,component:p.b,to:"/users/".concat(s,"/").concat(u),image:l,title:a}),r.a.createElement(Je.a,null,r.a.createElement(X.a,{variant:"body2",color:"textSecondary",component:"p"},c)),r.a.createElement(vt.a,{disableSpacing:!0},r.a.createElement(it,{recipeId:u}),r.a.createElement("span",null,m," Likes"),r.a.createElement(He,{tip:"comments"},r.a.createElement(Ie.a,{color:"secondary"})),r.a.createElement("span",null,d," comments"),r.a.createElement(re.a,{"aria-label":"share"},r.a.createElement(Ot.a,null)),r.a.createElement(n.Fragment,null,f)),r.a.createElement(X.a,{variant:"body2",color:"textSecondary",style:{left:"7%"}},"by ",s))}}]),t}(n.Component),pa=Object(E.b)((function(e){return{user:e.user}}))(ma),da=a(112),ha=a.n(da);var Ea=function(){return r.a.createElement("div",{className:ha.a.footOverall},r.a.createElement("h1",{className:ha.a.h1},"@Copyrights2020"),r.a.createElement("ul",{className:ha.a.footInfo},r.a.createElement("li",null,"About us"),r.a.createElement("li",null,"Contact us")),r.a.createElement("h3",null,"Made with Love in Goa."))},ba=a(360),fa=a(358),ga=a(361),va=a(186),ya=a.n(va),Oa=a(359),ja=Object(H.a)((function(e){return{root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}));function Ia(e){var t=e.children,a=e.window,n=ja(),c=Object(fa.a)({target:a?a():void 0,disableHysteresis:!0,threshold:100});return r.a.createElement(Oa.a,{in:c},r.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:n.root},t))}function Ca(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ba.a,null),r.a.createElement(ga.a,null,r.a.createElement(De.a,{my:2})),r.a.createElement(Ia,e,r.a.createElement(we.a,{color:"secondary",size:"small","aria-label":"scroll back to top"},r.a.createElement(ya.a,null))))}var ka=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getRecipes()}},{key:"render",value:function(){var e=this.props.data,t=e.recipes,a=e.loading?r.a.createElement($e,null," "):t.map((function(e){return r.a.createElement(pa,{key:e.recipeId,recipe:e})}));return r.a.createElement("div",null,r.a.createElement(ae,null," "),r.a.createElement("br",null),r.a.createElement("h3",{style:{marginLeft:"15%"}}," Explore"),r.a.createElement(sa,null," "),r.a.createElement("br",null),r.a.createElement("center",null," ",r.a.createElement("h3",null," Recent Posts")),r.a.createElement("div",{className:kt.a.bg},a,r.a.createElement(Ca,null)),r.a.createElement(Ea,null))}}]),t}(n.Component),wa=Object(E.b)((function(e){return{data:e.data}}),{getRecipes:function(){return function(e){e({type:"LOADING_DATA"}),_.a.get("/recipes").then((function(t){e({type:"SET_RECIPES",payload:t.data})})).catch((function(t){e({type:"SET_RECIPES",payload:[]})}))}}})(ka),Sa=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.comments,a=e.classes;return r.a.createElement(Le.a,{container:!0},t.map((function(e,c){var l=e.body,o=e.createdAt,i=e.userImage,s=e.userHandle;return r.a.createElement(n.Fragment,{key:o},r.a.createElement(Le.a,{item:!0,sm:12},r.a.createElement(Le.a,{container:!0},r.a.createElement(Le.a,{item:!0,sm:2},r.a.createElement("img",{src:i,alt:"comment",className:a.commentImage})),r.a.createElement(Le.a,{item:!0,sm:9},r.a.createElement("div",{className:a.commentData},r.a.createElement(X.a,{variant:"h5",component:p.b,to:"/user/".concat(s),color:"primary"},s),r.a.createElement(X.a,{variant:"body2",color:"textSecondary"},de()(o).format("h:mm a, MMMM DD YYYY")),r.a.createElement("hr",null),r.a.createElement(X.a,{variabnt:"body1"},l))))),c!==t.length-1&&r.a.createElement("hr",null))})))}}]),t}(n.Component),_a=(ut()({commentImage:{maxWidth:"100%",height:100,objectFit:"cover",borderRadius:"50%"},commentData:{marginLeft:20}})(Sa),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={body:"",errors:{}},a.handleChange=function(e){a.setState(Object(A.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.submitComment(a.props.recipeId,{body:a.state.body}),a.props.clearErrors()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors}),e.UI.errors||e.UI.loading||this.setState({body:""})}},{key:"render",value:function(){var e=this.props,t=(e.classes,e.authenticated),a=this.state.errors;return t?r.a.createElement(Le.a,{item:!0,sm:12,style:{textAlign:"center"}},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(Nt.a,{name:"body",type:"text",label:"Comment",error:!!a.comment,helperText:a.comment,value:this.state.body,onChange:this.handleChange,fullWidth:!0}),r.a.createElement(ee.a,{type:"submit",variant:"contained",color:"primary"},"Submit")),r.a.createElement("hr",null)):null}}]),t}(n.Component)),Ra={submitComment:function(e,t){return function(a){_.a.post("/recipe/".concat(e,"/comment"),t).then((function(e){a({type:"SUBMIT_COMMENT",payload:e.data}),a(ct())})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}},clearErrors:ct},Na=(Object(E.b)((function(e){return{UI:e.UI,authenticated:e.user.authenticated}}),Ra)(_a),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.recipeId;this.props.getRecipe(e)}},{key:"render",value:function(){var e=this.props,t=e.user.authenticated,a=e.recipe,c=a.recipeId,l=a.title,o=a.cookingTime,i=a.serves,s=a.body,u=a.ingredients,m=a.instructions,d=a.pictureUrl,h=a.createdAt,E=a.likeCount,b=(a.commentCount,a.userImage,a.userHandle),f=(a.comments,e.UI.loading),g=t?r.a.createElement(Ue,null," "):r.a.createElement(ae,null," "),v=f?r.a.createElement(Bt.a,{style:{left:"50%",top:"50%"}}):r.a.createElement(n.Fragment,null,r.a.createElement(X.a,{variant:"h2"},l),r.a.createElement(X.a,null,o),r.a.createElement(X.a,null,i),r.a.createElement(X.a,{component:p.b,color:"primary",variant:"h5",to:"/users/".concat(b)},"@",b),r.a.createElement("br",null),r.a.createElement(X.a,{variant:"body2",color:"textSecondary"},de()(h).format("h:mm a, MMMM DD YYYY")),r.a.createElement(it,{recipeId:c}),r.a.createElement("span",null,E," likes"),r.a.createElement(X.a,null,s),r.a.createElement("img",{src:d}),r.a.createElement(X.a,null,u),r.a.createElement(X.a,null,m));return r.a.createElement("div",null,g,v)}}]),t}(n.Component)),Ua={getRecipe:function(e){return function(t){t({type:"LOADING_UI"}),_.a.get("/recipe/".concat(e)).then((function(e){t({type:"SET_RECIPE",payload:e.data}),t({type:"STOP_LOADING_UI"})})).catch((function(e){return console.log(e)}))}}},Aa=Object(E.b)((function(e){return{user:e.user,recipe:e.data.recipe,UI:e.UI}}),Ua)(Na),Ta=a(187),Pa=a.n(Ta),Da=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.user,t=e.authenticated;return e.loading?r.a.createElement(F.a,{variant:"query"}):t?r.a.createElement("div",null,r.a.createElement(Ue,null," "),r.a.createElement(X.a,null,"Submit a Recipe"),r.a.createElement(qt,null," ")):r.a.createElement("div",null,r.a.createElement(ae,null," "),r.a.createElement(xe.a,null,r.a.createElement(X.a,{variant:"body2",align:"center"},"Create an Account to submit Delicious Recipes"),r.a.createElement("span",null,r.a.createElement(ee.a,{variant:"contained",color:"primary",component:p.b,to:"/login"},"Login"),r.a.createElement(ee.a,{variant:"contained",color:"secondary",component:p.b,to:"/signup"},"Signup"))))}}]),t}(n.Component),xa=Object(E.b)((function(e){return{user:e.user}}))(Da),La=Object(E.b)((function(e){return{authenticated:e.user.authenticated}}))((function(e){var t=e.component,a=e.authenticated,n=Object(Ae.a)(e,["component","authenticated"]);return r.a.createElement(d.b,Object.assign({},n,{render:function(e){return!0===a?r.a.createElement(d.a,{to:"/"}):r.a.createElement(t,e)}}))}));_.a.defaults.baseURL="https://asia-northeast1-step-by-step-96e75.cloudfunctions.net/api";var Fa=localStorage.FBIdToken;Fa&&(1e3*h(Fa).exp<Date.now()?(w.dispatch(N()),window.location.href="/login"):(w.dispatch({type:"SET_AUTHENTICATED"}),_.a.defaults.headers.common.Authorization=Fa,w.dispatch(R())));var Ma=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{store:w},r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:wa}),r.a.createElement(La,{exact:!0,path:"/login",component:G}),r.a.createElement(La,{exact:!0,path:"/signup",component:K}),r.a.createElement(d.b,{exact:!0,path:"/users/:handle",component:Jt}),r.a.createElement(d.b,{exact:!0,path:"/users/:handle/:recipeId",component:Aa}),r.a.createElement(d.b,{exact:!0,path:"/test",component:Pa.a}),r.a.createElement(d.b,{exact:!0,path:"/addrecipe",component:xa})))))}}]),t}(n.Component),Ba=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ga(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(Ma,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Ba?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ga(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):Ga(e)}))}}()},46:function(e,t,a){e.exports={avatar:"Profiles_avatar__3fkUX",ip:"Profiles_ip__3gXMG",root:"Profiles_root__2bQN3",container:"Profiles_container__1v_Hn",tabs:"Profiles_tabs__3rAm-",mainFeaturedPost:"Profiles_mainFeaturedPost__34o24",overlay:"Profiles_overlay__3Dk6w",mainFeaturedPostContent:"Profiles_mainFeaturedPostContent__2aHo8"}},59:function(e,t,a){e.exports={main:"Editprofile_main__2Bc7z",root:"Editprofile_root__7zKnL"}},75:function(e,t,a){e.exports={root:"RecipeCard_root__mgaXR",media:"RecipeCard_media__1sT1I"}}},[[206,1,2]]]);
//# sourceMappingURL=main.d4b07a10.chunk.js.map